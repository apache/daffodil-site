---
title: "4.0.0"
release: final
apache: true
date: 2025-09-22
summary: >
  Require Scala 3, Java 17+, new API

source-dist:
 - "apache-daffodil-4.0.0-src.zip"

binary-dist:
 - "apache-daffodil-4.0.0-bin.tgz"
 - "apache-daffodil-4.0.0-bin.zip"
 - "apache-daffodil-4.0.0-bin.msi"
 - "apache-daffodil-4.0.0-1.noarch.rpm"

scala-version: 3
---

This release is a major release, now depending on Scala 3, Java 17 or newer,
and including a new backwards incompatible API. See the
[4.0.0 migration guide](/migration-guides/4.0.0) for changes required to
upgrade this version.

### Miscellaneous Bugs/Improvements

* {% jira 1747 %} Remove separate sapi and japi
* {% jira 1971 %} Statement order of evaluation not per DFDL Spec
* {% jira 2901 %} Unable to run many tests in single tdml suite without large amounts of memory
* {% jira 2902 %} Javadoc for runtime1 API Infoset and Metadata classes/traits
* {% jira 2971 %} Setup release candidate workflow using github tags
* {% jira 2972 %} Review Scala 2.13 usages of .toSeq to ensure no uncessary copies
* {% jira 2975 %} Add support for Scala 3
* {% jira 2986 %} Circular Dependency Detection is broken in Scala 3
* {% jira 2988 %} Fix README version link once 4.0.0 is released
* {% jira 2994 %} Merge daffodil-udf into core
* {% jira 2996 %} Document new api.validation package
* {% jira 2999 %} Remove Diagnostic.getMessageOnly, move behavior to getMessage
* {% jira 3001 %} Repeated error message
* {% jira 3002 %} CLI reading/writing a fifo file fails with 0 bytes available error
* {% jira 3003 %} Unparsing streamed data without --stream causes NullPointerException
* {% jira 3006 %} Unexpected SDE: Failed to start infoset simple element: Expression Evaluation Error: Element does not have a value. 
* {% jira 3007 %} Allow Full Validation with Saved Parsers
* {% jira 3008 %} Review use of Implicits and remove
* {% jira 3009 %} SchematonValidator  is not threadsafe
* {% jira 3011 %} Migrate Scala imports from ._ to .*
* {% jira 3012 %} Unidoc generation broken in scala3
* {% jira 3013 %} Consider simplified Validator API
* {% jira 3014 %} Use Seq internally for diagnostics/blobpaths
* {% jira 3016 %} Drop Scala 2.13
* {% jira 3017 %} Drop Java 8/11
* {% jira 3018 %} Remove generic scala-reflect dependency
* {% jira 3019 %} Remove java.util.Optional's from new API
* {% jira 3020 %} Have all API packages share same .api parent
* {% jira 3022 %} Rename limited validation kind to daffodil
* {% jira 3023 %} Update OpenDFDL for the new api
* {% jira 3024 %} Create a website migration guide for 4.0.0
* {% jira 3025 %} Remove unused license/notice entries
* {% jira 3026 %} Move Infoset.get* to Daffodil.new*
* {% jira 3028 %} Investigate Hanging Issue for DFDL Raster
* {% jira 3030 %} Investigate increased memory usage
* {% jira 3031 %} Expose location for UnparseResult
* {% jira 3032 %} Trace Debugger Runner can only go to stdout
* {% jira 3034 %} Need a public API get to list of available validators
* {% jira 3035 %} No way to create a Validator using a InputStream as a source
* {% jira 3037 %} check-release script does not handle rpm signatures for reproducibility checks
* {% jira 3038 %} Prepare for 4.0.0 release
* {% jira 3039 %} Check-release script should output count of total failures

### Deprecation/Compatibility

A number of deprecation and compatability changes where made in this release.
See the [4.0.0 migration guide](/migration-guides/4.0.0) for details on
backwards incompatible changes.

### Dependency Changes

The following dependencies have been added, updated, or removed:

**Core**

* Apache Commons IO 2.20.0 <small>(update)</small>
* FasterXML Woodstox Core 7.1.1 <small>(update)</small>
* Saxon-HE 12.8 <small>(update)</small>
* Scala XML 2.4.0 <small>(update)</small>
* Scala Reflect 2.13.16 <small>(removed)</small>
* Scala Library 3.3.6 <small>(updated)</small>
* Lightbend Config 1.4.3 <small>(removed)</small>

**Code Generation**

* OS Lib 0.11.5 <small>(update)</small>
* OS Zip 0.11.5 <small>(new)</small>

**Command Line Interface**

* JLine 3.30.5 <small>(update)</small>

**Test**

* ScalaCheck 1.19.0 <small>(update)</small>
