<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Apache Daffodil | 3.5.0</title>
    
    <meta name="author" content="">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="/assets/themes/apache/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/themes/apache/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/assets/themes/apache/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" />

  </head>

  <body>

        <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header"><a class="navbar-brand" href="/"><img src="/assets/themes/apache/img/apache-daffodil-logo.png" alt="Apache Daffodil"/></a></div>
        <nav role="navigation">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/releases">Releases</a></li>
            <li><a href="/vscode">VS Code</a></li>
            <li id="documentation">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Docs<b class="caret"></b></a>
              <ul class="dropdown-menu dropdown-left">
                <li><a href="/getting-started/">Getting Started</a></li>
                <li><a href="/examples/">Examples</a></li>
                <li><a href="/docs/latest/javadoc/">Java API</a></li>
                <li><a href="/docs/latest/scaladoc/">Scala API</a></li>
                <li><a href="/docs/dfdl/">DFDL Specification</a></li>
                <li><a href="/unsupported/">Unsupported Features</a></li>
                <li><a href="/faq/">Frequently Asked Questions</a></li>
              </ul>
            </li>
            <li id="community">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Community<b class="caret"></b></a>
              <ul class="dropdown-menu dropdown-left">
                <li><a href="/community">Get Involved</a></li>
                <li><a href="/people">People</a></li>
              </ul>
            </li>
            <li id="development">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Development<b class="caret"></b></a>
              <ul class="dropdown-menu dropdown-left">
                <li><a class="external" href="https://cwiki.apache.org/confluence/display/DAFFODIL/">Wiki</a></li>
                <li><a class="external" href="https://github.com/apache/?q=daffodil">GitHub</a></li>
                <li><a class="external" href="https://issues.apache.org/jira/projects/DAFFODIL/">JIRA</a></li>
              </ul>
            </li>
            <li id="apache">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Apache<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a class="external" href="https://www.apache.org/">Foundation</a></li>
                <li><a class="external" href="https://www.apache.org/licenses/">License</a></li>
                <li><a class="external" href="https://www.apache.org/events/current-event">Events</a></li>
                <li><a class="external" href="https://www.apache.org/security">Security</a></li>
                <li><a class="external" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                <li><a class="external" href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                <li><a class="external" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a></li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </div>


<div class="title">
  <div class="container">
    <h2>Apache Daffodil 3.5.0</h2>
  </div>
</div>



    <div class="container">
      
  <div class="alert alert-warning">
    Apache Daffodil 3.5.0 has not yet been released! The artifacts
    and release notes below are drafts for a proposed release of Apache
    Daffodil which has not yet occurred.
  </div>




<div class="row">
  <div class="col-md-3 text-right" style="float: right; z-index: 3;">
    <h3>Documentation</h3>
    <a href="/docs/3.5.0/javadoc/">Javadoc</a> | <a href="/docs/3.5.0/scaladoc/">Scaladoc</a>
  </div>

  <div class="col-md-12">
    <h3>Get Release</h3>
    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#download">Download</a></li>
      <li><a data-toggle="tab" href="#maven">Maven</a></li>
      <li><a data-toggle="tab" href="#sbt">SBT</a></li>
      <li><a data-toggle="tab" href="#rpm">DNF</a></li>
    </ul>
    <div class="tab-content">
      <div id="download" class="tab-pane fade in active">
        
          <h4>Source</h4>
          <p>
          







  
<div class="row">
  <div class="col-sm-6">
    <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/src/apache-daffodil-3.5.0-src.zip">apache-daffodil-3.5.0-src.zip</a>
  </div>
  <div class="col-sm-6">
    
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/src/apache-daffodil-3.5.0-src.zip.asc">PGP</a> ]
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/src/apache-daffodil-3.5.0-src.zip.sha512">SHA512</a> ]
    
  </div>
</div>


          </p>
        

        
          <h4>Binaries</h4>
          <p>
          







  
<div class="row">
  <div class="col-sm-6">
    <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.tgz">apache-daffodil-3.5.0-bin.tgz</a>
  </div>
  <div class="col-sm-6">
    
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.tgz.asc">PGP</a> ]
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.tgz.sha512">SHA512</a> ]
    
  </div>
</div>

  
<div class="row">
  <div class="col-sm-6">
    <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.zip">apache-daffodil-3.5.0-bin.zip</a>
  </div>
  <div class="col-sm-6">
    
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.zip.asc">PGP</a> ]
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.zip.sha512">SHA512</a> ]
    
  </div>
</div>

  
<div class="row">
  <div class="col-sm-6">
    <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.msi">apache-daffodil-3.5.0-bin.msi</a>
  </div>
  <div class="col-sm-6">
    
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.msi.asc">PGP</a> ]
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-bin.msi.sha512">SHA512</a> ]
    
  </div>
</div>

  
<div class="row">
  <div class="col-sm-6">
    <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-1.noarch.rpm">apache-daffodil-3.5.0-1.noarch.rpm</a>
  </div>
  <div class="col-sm-6">
    
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-1.noarch.rpm.asc">PGP</a> ]
      [ <a href="https://dist.apache.org/repos/dist/dev/daffodil/3.5.0-rc1/bin/apache-daffodil-3.5.0-1.noarch.rpm.sha512">SHA512</a> ]
    
  </div>
</div>


          </p>
        

        
          <hr />
          <p>
            <i>
              The above release files should be verified using the PGP signatures and the
              <a href='https://downloads.apache.org/daffodil/KEYS'>project release KEYS</a>. See
              <a href='https://www.apache.org/info/verification.html'>verification instructions</a>
              for a description of using the PGP and KEYS files for
              verification. A SHA512 checksum is also provided as
              an alternative verification method.
            </i>
          </p>
        
      </div>

      <div id="maven" class="tab-pane fade">

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.apache.daffodil<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>daffodil-japi_2.12<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>3.5.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre></figure>

      </div>
      <div id="sbt" class="tab-pane fade">

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">"org.apache.daffodil"</span> <span class="o">%%</span> <span class="s">"daffodil-sapi"</span> <span class="o">%</span> <span class="s">"3.5.0"</span></code></pre></figure>

      </div>
      <div id="rpm" class="tab-pane fade">
Create the file <code>/etc/yum.repos.d/apache-daffodil.repo</code> with the following content:

<div style="padding: 10px 15px;">

<figure class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="nn">[apache-daffodil]</span>
<span class="py">name</span><span class="p">=</span><span class="s">Apache Daffodil</span>
<span class="py">baseurl</span><span class="p">=</span><span class="s">https://apache.jfrog.io/artifactory/daffodil-rpm/</span>
<span class="py">enabled</span><span class="p">=</span><span class="s">1</span>
<span class="py">gpgkey</span><span class="p">=</span><span class="s">https://downloads.apache.org/daffodil/KEYS</span>
<span class="py">gpgcheck</span><span class="p">=</span><span class="s">1</span>
<span class="py">repo_gpgcheck</span><span class="p">=</span><span class="s">0</span></code></pre></figure>

</div>

Run the folllowing command:

<div style="padding: 10px 15px;">

<figure class="highlight"><pre><code class="language-text" data-lang="text">sudo dnf install apache-daffodil</code></pre></figure>

</div>
      </div>
    </div>
  </div>
</div>

<h3 id="release-notes">Release Notes</h3>

<p>This release focused primarily on bug fixes. A number of changes resulted in
deprecation or backwards incompatible changes. See the Deprecation/Compatibility
section for more details.</p>

<h4 id="additional-new-featuresimprovements">Additional New Features/Improvements</h4>

<ul>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-847">DAFFODIL-847</a>] NotYetImplemented Exception for list of textStandardDecimalSeparator</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-853">DAFFODIL-853</a>] COBOL: textNumberPattern: 'V' symbol</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2381">DAFFODIL-2381</a>] Refactor test util to eliminate redundant windows baggage from CLI Tests</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2400">DAFFODIL-2400</a>] New SAX API causes performance degradations</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2743">DAFFODIL-2743</a>] remove all deprecated methods/classes/objects</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2745">DAFFODIL-2745</a>] Prepare for 3.5.0 development</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2747">DAFFODIL-2747</a>] Add GitHub action to support macOS</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2749">DAFFODIL-2749</a>] Add Daffodil Developer Guide</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2750">DAFFODIL-2750</a>] Add option to encode/decode EXI files</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2756">DAFFODIL-2756</a>] Update CI workflows and build tools</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2762">DAFFODIL-2762</a>] Add more daffodilC support (arrays, alignment)</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2763">DAFFODIL-2763</a>] 'P' textNumberPattern feature</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2772">DAFFODIL-2772</a>] Eliminate CLI it:test target and src/it directory in favor of ordinary src/test</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2775">DAFFODIL-2775</a>] stringAsXML test needs to use mixed content</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2779">DAFFODIL-2779</a>] Add GitHub autolinking to the Jira issue tracker</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2786">DAFFODIL-2786</a>] Refactor how Main calls "generate c"</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2790">DAFFODIL-2790</a>] Merge runtime2's two redundant processors</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2796">DAFFODIL-2796</a>] Rename daffodil-runtime2</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2799">DAFFODIL-2799</a>] Separate "lint" checks from "OS/JDK" matrix checks</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2804">DAFFODIL-2804</a>] Make minor codegen-c improvements</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2807">DAFFODIL-2807</a>] Add left over data check to generated C parsers</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2819">DAFFODIL-2819</a>] Add codegen-c support for runtime length hexBinary</li>
</ul>

<h4 id="miscellaneous-bug-fixes">Miscellaneous Bug Fixes</h4>

<ul>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-768">DAFFODIL-768</a>] An element with both name and ref defined should cause an error</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-908">DAFFODIL-908</a>] Test should result in Runtime SDE, not abort exception</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-961">DAFFODIL-961</a>] Escape Scheme Scenario "scenario3_11_postfix" failing</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1026">DAFFODIL-1026</a>] Invalid configuration file causes exception</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1172">DAFFODIL-1172</a>] length units bits for xs:integer and xs:nonNegativeInteger, should be SDE</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1275">DAFFODIL-1275</a>] XCatalog and Classpath interaction with name resolution</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1454">DAFFODIL-1454</a>] dfdl:hexBinary vs xs:hexBinary constructors: string input</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1651">DAFFODIL-1651</a>] Unparse: dfdl:content/valueLength of an Array returns unexpected result</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1704">DAFFODIL-1704</a>] PE undetected - Binary number parsers are missing checks for bitLength</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2101">DAFFODIL-2101</a>] Issues with nested separators</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2133">DAFFODIL-2133</a>] Enable and configure sbt-scalariform/scalafmt plugin</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2147">DAFFODIL-2147</a>] DFDLGeneralFormat.dfdl.xsd wrong value for textStandardZeroRep. Should be ""</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2158">DAFFODIL-2158</a>] textNumberPattern not being used for xs:int ?</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2161">DAFFODIL-2161</a>] inputvalueCalc on direct dispatch choice branch is too verbose</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2212">DAFFODIL-2212</a>] Enumerations validate length on symbolic elements</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2219">DAFFODIL-2219</a>] Unparser with dfdl:separatorSuppressionPolicy="never" bug</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2231">DAFFODIL-2231</a>] Separator unparsed even when dfdl:occursCount expression is zero</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2346">DAFFODIL-2346</a>] XML Output needs option to use &lt;![CDATA[ ]]&gt; around simple element values containing whitespace.</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2364">DAFFODIL-2364</a>] infinite loop with separators and suppression (NUL related)</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2390">DAFFODIL-2390</a>] Handle Exceptions from SAXInfosetOutputter's contentHandler Calls</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2393">DAFFODIL-2393</a>] relative path past root - incorrect error</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2441">DAFFODIL-2441</a>] Compiling a non DFDL schema with warnings turned off results in an Abort</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2496">DAFFODIL-2496</a>] implement emptyElementParsePolicy as a dfdl property. It is part of DFDL 1.0</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2499">DAFFODIL-2499</a>] separatorSuppressionPolicy 'never' incorrectly creates empty elements (needs diagnostic)</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2562">DAFFODIL-2562</a>] Optional element at end of choice branch triggers unparse error</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2586">DAFFODIL-2586</a>] Schema compilation hangs if incorrectly closed attribute</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2596">DAFFODIL-2596</a>] lengthKind property is not inherited for types with dfdlx:repType</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2607">DAFFODIL-2607</a>] Poor diagnostic - not an enum value but complains of keyset-value mapping</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2614">DAFFODIL-2614</a>] assert failure in schema-defined layer transform appears to be a Daffodil bug</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2615">DAFFODIL-2615</a>] group sharing causes obscure unparser runtime error</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2624">DAFFODIL-2624</a>] cannot use trace when doing streaming parse calls</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2628">DAFFODIL-2628</a>] abort: invariant broken when assert test expression does not return boolean</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2632">DAFFODIL-2632</a>] NumberFormatException for blank dfdlx:repValues</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2634">DAFFODIL-2634</a>] SDW message should include identifier of the warning for suppressing it</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2645">DAFFODIL-2645</a>] Parse Error: Insufficient bits. Needed 160 but found only 1192</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2647">DAFFODIL-2647</a>] Diagnostic says "The property 'null' …"</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2668">DAFFODIL-2668</a>] Variable Error caused by ignored newVariableInstance in Group Annotation</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2676">DAFFODIL-2676</a>] number constructors from string do not tolerate leading whitespace</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2683">DAFFODIL-2683</a>] Don't split packages across jars - OGSI packaging requirements</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2728">DAFFODIL-2728</a>] Missing layer plugin causes abort "this is a bug"</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2744">DAFFODIL-2744</a>] stack_t and strnum conflict with macOS developer platform libraries</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2748">DAFFODIL-2748</a>] Update cli and runtime2-todos</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2751">DAFFODIL-2751</a>] Occasional network timeout exceptions can hang a CI job now</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2755">DAFFODIL-2755</a>] infoset nodes removed by InfosetWalker tha are still needed, null pointer exception</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2767">DAFFODIL-2767</a>] Mixed content with SAX unparsing hangs coroutine thread</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2770">DAFFODIL-2770</a>] Refactor and document SAX unparse implementation</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2774">DAFFODIL-2774</a>] ICU4J DecimalFormat is thread-safe as of ICU 59</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2776">DAFFODIL-2776</a>] GitHub action badge broken in README</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2777">DAFFODIL-2777</a>] Fix generated C code for offset between 2 array slots</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2778">DAFFODIL-2778</a>] Make the CLI thread-safe</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2782">DAFFODIL-2782</a>] NegativeArraySizeException when hexBinary has length &gt; 1,073,741,823</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2785">DAFFODIL-2785</a>] Abort: Usage error: startBitAddress0b.&gt;=(0) in from DataLocation.bytePos1b after parsing large GIF</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2787">DAFFODIL-2787</a>] log4j-core and log4j-api version mismatch can lead to very confusing errors</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2789">DAFFODIL-2789</a>] CI runs cancelled when merged in to main branch too quickly</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2791">DAFFODIL-2791</a>] dfdl:occursIndex() returns wrong value when emptyElementParsePolicy="treatAsMissing"</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2800">DAFFODIL-2800</a>] appinfo annotations with distinct source are being misinterpreted as DFDL annotations.</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2802">DAFFODIL-2802</a>] Array with optional element followed by scalar optional element drops separator</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2803">DAFFODIL-2803</a>] Warnings included in serialized DataProcessor</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2805">DAFFODIL-2805</a>] Comment statement references incorrect test</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2808">DAFFODIL-2808</a>] Incorrect Validation Error on Optional Element with Children</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2811">DAFFODIL-2811</a>] sbt IntegrationTest being deprecated, need alternative for slow CLI tests</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2813">DAFFODIL-2813</a>] Schematron URIResolver uses Classpath rather than Daffodil Resolver</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2816">DAFFODIL-2816</a>] Saved parser version checks against application version, not Daffodil version</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2818">DAFFODIL-2818</a>] Failed assertion when parsing text with negative zero value</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2820">DAFFODIL-2820</a>] GeneralFormatPortable isn't actually portable due to emptyElementParsePolicy</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2821">DAFFODIL-2821</a>] Optional Time type element shows up in Infoset</li>
  <li>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2822">DAFFODIL-2822</a>] Prepare 3.5.0 relesae</li>
</ul>

<h4 id="deprecationcompatibility">Deprecation/Compatibility</h4>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">GeneralFormatPortable</code> define format has been removed. Instead,
portable schemas should import a new portable file and reference the
<code class="language-plaintext highlighter-rouge">GeneralFormat</code> format. For example, a schema that previously looked
like this:</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;xs:include</span> <span class="na">schemaLocation=</span><span class="s">"org/apache/daffodil/xsd/DFDLGeneralFormat.dfdl.xsd"</span> <span class="nt">/&gt;</span>
  
<span class="nt">&lt;dfdl:format</span> <span class="na">ref=</span><span class="s">"GeneralFormatPortable"</span> <span class="err">...</span> <span class="nt">/&gt;</span>
</code></pre></div>    </div>

    <p>Should now look like this:</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;xs:include</span> <span class="na">schemaLocation=</span><span class="s">"org/apache/daffodil/xsd/DFDLGeneralFormatPortable.dfdl.xsd"</span> <span class="nt">/&gt;</span>
   
<span class="nt">&lt;dfdl:format</span> <span class="na">ref=</span><span class="s">"GeneralFormat"</span> <span class="err">...</span> <span class="nt">/&gt;</span>
</code></pre></div>    </div>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2820">DAFFODIL-2820</a>]</p>
  </li>
  <li>
    <p>The property <code class="language-plaintext highlighter-rouge">textStandardZeroRep</code> used to be defined to be "0" which
is a mistake. However, existing schemas may be depending on this, or
they may not be depending on this, but simply have tests which have expected
data output containing the value 0.0 with "0" as the text representation.
With this change to dfdl:textStandardZeroRep="" those tests may be broken.</p>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2147">DAFFODIL-2147</a>]</p>
  </li>
  <li>
    <p>Previous Daffodil releases let schemas define every type's length
using "bits" as the length unit even though the specification allows
bit length units only for a specific set of types' binary
representations and does not allow bit length units for any other
type's binary representation or any type's text representation. A
deprecation warning is now issued when bit length units are
incorrectly used.</p>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1172">DAFFODIL-1172</a>]</p>
  </li>
  <li>
    <p>Daffodil now uses SLF4J for logging instead of log4j. API users may need
to add a new dependency to specify which logging backend to use, for
example slf4j-log4j for the previous behavior. If no backend is found, a
warning will be output to stderr and log messages will be dropped.</p>

    <p>DFDL schema projects that previously added log4j-core (or another log4j
implementation) as a dependency to avoid warnings no longer need that
dependency–a custom Daffodil specific logger is now used for TDML tests
and is automatically pulled in as dependency.</p>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2787">DAFFODIL-2787</a>]</p>
  </li>
  <li>
    <p>The default and maximum value of the maxHexBinaryLengthInBytes tunable,
and thus the maximum length of xs:hexBinary elements, is reduced in half
from 2147483647 to 1073741823 bytes. Schemas requiring larger values
should switch to the Binary Large Object extension or convert the single
large hexBinary element to an array of multiple smaller hexBinary
elements.</p>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2782">DAFFODIL-2782</a>]</p>
  </li>
  <li>
    <p>Daffodil now ensures that binary specified lengths are not larger than the
max length of the associated type. For example, xs:int cannot be used if
field length is larger than 32 bits. Instead, an xs:long or larger type
should be used.</p>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-1704">DAFFODIL-1704</a>]</p>
  </li>
  <li>
    <p>Some package names were modified to support OSGI. Classes in
daffodil-tdml-processor, daffodil-japi, and daffodil-sapi jars were
unchanged, so those using these APIs should not need changes. However,
classes in other packages may need to adjust imports.</p>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2683">DAFFODIL-2683</a>]</p>
  </li>
  <li>
    <p>The behavior of textNumberCheckPolicy="strict" was changed so that the
pattern is used to determine if a decimal point must exist or not. For
example, if text numbers are integers without a decimal, the pattern should
not contain a decimal. Schema should be modified to either use a lax policy
or use a pattern that correctly matches their data.</p>

    <p>[<a href="https://issues.apache.org/jira/browse/DAFFODIL-2158">DAFFODIL-2158</a>]</p>
  </li>
</ul>

<h4 id="dependency-changes">Dependency Changes</h4>

<p>The following dependencies have been added or updated:</p>

<p><strong>Core</strong></p>

<ul>
  <li>Apache Commons IO 2.13.0 <small>(update)</small></li>
  <li>FasterXML Jackson Core 2.15.2 <small>(update)</small></li>
  <li>FasterXML Woodstox Core 6.5.1 <small>(update)</small></li>
  <li>ICU4J 73.1 <small>(update)</small></li>
  <li>Scala Parser Combinators 2.3.0 <small>(update)</small></li>
  <li>Scala Reflect &amp; Standard Library 2.12.18 <small>(update)</small></li>
</ul>

<p><strong>CLI</strong></p>

<ul>
  <li>JLine 3.22 <small>(update)</small></li>
</ul>

<p><strong>Code Generator</strong></p>

<ul>
  <li>OS-Lib 0.9.1 <small>(update)</small></li>
</ul>

<p><strong>Schematron Validator</strong></p>

<ul>
  <li>Saxon-HE 12.2 <small>(update)</small></li>
</ul>

<p><strong>Logging</strong></p>

<ul>
  <li>SLF4J API 2.0.7 <small>(update)</small></li>
  <li>Scala Logging 3.9.5 <small>(new)</small></li>
</ul>

<p><strong>Changes to Transitive Dependencies</strong></p>

<ul>
  <li>XML Resolver &amp; data 5.1.2 <small>(update, used by Saxon-HE)</small></li>
  <li>Geny 1.0.0 <small>(update, used by OS-LIb)</small></li>
</ul>

<p><strong>Removed Dependencies</strong></p>

<ul>
  <li>Log4j API 2.19.0 <small>(removed)</small></li>
  <li>Log4j API Scala 12.0 <small>(removed)</small></li>
  <li>Log4j core 2.14.1 <small>(removed)</small></li>
</ul>


      <footer>
        <footer class="site-footer">
    <div class="wrapper">
        <div class="footer-col-wrapper" style="font-size: .85em;">
            <hr>
            <div>
                <div style="text-align: center;">
                    Copyright &copy; 2022 <a href="https://www.apache.org">The Apache Software Foundation</a>.
                    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version
                    2.0</a>.
                    <br>
                    Apache, Apache Daffodil, Daffodil, and the Apache Daffodil logo
                    are trademarks of The Apache Software Foundation.
                </div>
            </div>
        </div>
    </div>
</footer>

      </footer>
    </div>

    <script src="/assets/themes/apache/jquery/jquery-2.1.1.min.js"></script>

    <script src="/assets/themes/apache/bootstrap/js/bootstrap.min.js"></script>


  </body>
</html>

