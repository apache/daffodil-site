<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>Apache Daffodil 3.11.0 Scala API  - org.apache.daffodil.runtime1.layers.api.Layer</title><meta content="Apache Daffodil 3.11.0 Scala API - org.apache.daffodil.runtime1.layers.api.Layer" name="description"/><meta content="Apache Daffodil 3.11.0 Scala API org.apache.daffodil.runtime1.layers.api.Layer" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../../../lib/index.js"></script><script type="text/javascript" src="../../../../../../index.js"></script><script type="text/javascript" src="../../../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../../../';</script></head><body><div id="search"><span id="doc-title">Apache Daffodil 3.11.0 Scala API<span id="doc-version"></span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../../../index.html" title="This is the documentation for the Apache Daffodil Scala API."><span class="name">root</span></a></span><p class="shortcomment cmt">This is the documentation for the Apache Daffodil Scala API.</p><div class="fullcomment"><div class="comment cmt"><p>This is the documentation for the Apache Daffodil Scala API.</p><h5> Package structure </h5><p><a href="../../../sapi/index.html" name="org.apache.daffodil.sapi" id="org.apache.daffodil.sapi" class="extype">org.apache.daffodil.sapi</a> - Provides the classes necessary to compile DFDL schemas, parse and unparse files using the compiled objects, and retrieve results and parsing diagnostics</p><p><a href="../../../udf/index.html" name="org.apache.daffodil.udf" id="org.apache.daffodil.udf" class="extype">org.apache.daffodil.udf</a> - Provides the classes necessary to create User Defined Functions to extend the DFDL expression language</p><p><a href="index.html" name="org.apache.daffodil.runtime1.layers.api" id="org.apache.daffodil.runtime1.layers.api" class="extype">org.apache.daffodil.runtime1.layers.api</a> - Provides the classes necessary to create custom Layer extensions to DFDL.</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.org" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="org" class="anchorToMember"></a><a id="org:org" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../../index.html" title=""><span class="name">org</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="org.apache" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="apache" class="anchorToMember"></a><a id="apache:apache" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">apache</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../index.html" name="org" id="org" class="extype">org</a></dd></dl></div></li><li class="indented3 " name="org.apache.daffodil" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="daffodil" class="anchorToMember"></a><a id="daffodil:daffodil" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">daffodil</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="org.apache" id="org.apache" class="extype">apache</a></dd></dl></div></li><li class="indented4 " name="org.apache.daffodil.runtime1" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="runtime1" class="anchorToMember"></a><a id="runtime1:runtime1" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title=""><span class="name">runtime1</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="org.apache.daffodil" id="org.apache.daffodil" class="extype">daffodil</a></dd></dl></div></li><li class="indented5 " name="org.apache.daffodil.runtime1.layers" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="layers" class="anchorToMember"></a><a id="layers:layers" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title=""><span class="name">layers</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="org.apache.daffodil.runtime1" id="org.apache.daffodil.runtime1" class="extype">runtime1</a></dd></dl></div></li><li class="indented6 " name="org.apache.daffodil.runtime1.layers.api" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="api" class="anchorToMember"></a><a id="api:api" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="index.html" title=""><span class="name">api</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="org.apache.daffodil.runtime1.layers" id="org.apache.daffodil.runtime1.layers" class="extype">layers</a></dd></dl></div></li><li class="current-entities indented6"><span class="separator"></span> <a href="ChecksumLayer.html" title="A checksum layer computes a numeric value from a region of the data stream." class="class"></a><a href="ChecksumLayer.html" title="A checksum layer computes a numeric value from a region of the data stream.">ChecksumLayer</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="" title="This is the primary API class for writing layers." class="class"></a><a href="" title="This is the primary API class for writing layers.">Layer</a></li></ul></div></div><div id="content"><body class="class type"><div id="definition"><div class="big-circle class">c</div><p id="owner"><a href="../../../../../index.html" name="org" id="org" class="extype">org</a>.<a href="../../../../index.html" name="org.apache" id="org.apache" class="extype">apache</a>.<a href="../../../index.html" name="org.apache.daffodil" id="org.apache.daffodil" class="extype">daffodil</a>.<a href="../../index.html" name="org.apache.daffodil.runtime1" id="org.apache.daffodil.runtime1" class="extype">runtime1</a>.<a href="../index.html" name="org.apache.daffodil.runtime1.layers" id="org.apache.daffodil.runtime1.layers" class="extype">layers</a>.<a href="index.html" name="org.apache.daffodil.runtime1.layers.api" id="org.apache.daffodil.runtime1.layers.api" class="extype">api</a></p><h1>Layer<span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html" title="Permalink"><i class="material-icons"></i></a></span></h1><h3><span class="morelinks"></span></h3></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><span class="name">Layer</span><span class="result"> extends <span name="org.apache.daffodil.lib.util.SimpleNamedLoadableService" class="extype">SimpleNamedLoadableService</span></span></span></h4><div id="comment" class="fullcommenttop"><div class="comment cmt"><p>This is the primary API class for writing layers.</p><p>All layers are derived from this class.</p><p>This class is used directly as a base class to define <i>transforming</i> layers.
To simplify the
definition of <i>checksum</i> layers, a specialized sub-class
<code><a href="ChecksumLayer.html" name="org.apache.daffodil.runtime1.layers.api.ChecksumLayer" id="org.apache.daffodil.runtime1.layers.api.ChecksumLayer" class="extype">org.apache.daffodil.runtime1.layers.api.ChecksumLayer</a></code>
is also available.
Many of the requirements for layers, such as the naming conventions for layer variables,
are described here, but they apply equally to checksum layers.</p><p>Derived classes will be dynamically loaded by Java's Service Provider Interface (SPI) system.
The names of concrete classes derived from Layer are listed in
a metadata resource file
named for this class (that is, the file name is the fully-qualified class name of this class:
<code>resources/META-INF/services/org.apache.daffodil.runtime1.layers.api.Layer</code>).
This file contains lines where each line contains one fully qualified class name of a derived
layer class.
More than one line in the file denotes that the Jar file contains the definitions of more than one derived layer
class.
This file is incorporated in the compiled jar file for the derived <code>Layer</code> class
so that the class path can be searched and Jars containing layer classes can be dynamically loaded.</p><p>The SPI creates an instance the class by calling a default (no-arg) constructor, which should be
the only constructor.</p><p>Instances of derived layer classes can be stateful.
They are private to threads, and each time a layer
is encountered during parse/unparse, an instance is created for that situation.</p><p>Layer instances should not share mutable state (such as via singleton objects).</p><h4> About Layer Variables </h4><p>Layer logic may read and write DFDL variables.
These variables are associated with the layer implementation class by using
Java/Scala reflection to find matches (case-sensitive) between the names of DFDL variables and method
names and method arguments of the layer's Java/Scala code.
Hence, the layer's DFDL variables must have names suitable for use as Java/Scala
identifiers.</p><p>The layer namespace is used only for its layer.
All DFDL variables defined in that namespace are either used to pass parameters to the
layer code, or receive results (such as a checksum) back from the layer code.
This is enforced.
If a layer namespace contains a DFDL variable and there is no corresponding
usage of that variable name in the layer code (following the conventions below), then
it is a Schema Definition Error when the layer code is loaded.</p><p>A layer that does not define any DFDL variables does
not have to define a DFDL schema that defines the layer's target
namespace, but any layer that uses DFDL variables *must* define a
schema with the layer's namespace as its target namespace, and with the
variables declared in it (using <code>dfdl:defineVariable</code>).</p><p>Every DFDL Variable in the layer's target namespace is used either at the start of the
layer algorithm as a parameter to the layer or at the end of the layer algorithm where it is
assigned a return value (such as a checksum or flag) from the layer.</p><p>Variables being read must have values before being read by the layer, and this is true for both
parsing and unparsing.
This happens when the Daffodil processor begins parsing/unparsing the layered sequence.
When unparsing, variables being read cannot be forward-referencing to parts
of the DFDL infoset that have not yet been unparsed.</p><p>A layer that wants to read parameters declares a special setter named
<code>setLayerVariableParameters</code>
which has arguments where each has a name and type that match a corresponding
<code>dfdl:defineVariable</code> in the layer's target namespace.</p><p>For example, if the layer logic has a DFDL variable for a parameter named <code>direction</code>
of type <code>xs:string</code> and another DFDL variable for a parameter named <code>wordCount</code>
of type <code>xs:unsignedShort</code>
then the derived Layer class must have a <code>setLayerVariableParameters</code> with
arguments corresponding in name and type to these two variables.
This setter will be called passing the value of the variables immediately after the layer
instance is constructed.
The arguments to <code>setLayerVariableParameters</code> can be in any order:
<pre>
    void setLayerVariableParameters(String direction, int wordCount) {
        // usually this setter will assign the values to data members
        this.direction = direction;
        this.wordCount = wordCount;
    }
</pre>
Beside initializing local members, this setter is also an initializer for the layer class instance.
Any exception thrown becomes a Schema Definition Error.</p><p>If there are no parameter variables, then this setter, with no arguments, can be used purely for initialization.</p><p>A DFDL variable used to return a result from a layer must be undefined, since variables in DFDL are single-assignment.
Usually this means the use of the layer must be surrounded by a <code>dfdl:newVariableInstance</code>
annotation which creates a new instance of the layer result variable, over a limited scope
of use.
The variable is assigned by the layer, and it is then available for reading by the DFDL schema until
the end of the <code>dfdl:newVariableInstance</code> scope.</p><p>To return a value into a DFDL variable, the layer implementation defines a special recognizable
getter method.
The name of the getter is formed from prefixing the DFDL variable name with the string
"<code>getLayerVariableResult_</code>".
The return type of the getter must correspond to the type of the variable.</p><p>For example, a result value getter for a DFDL variable named <code>total</code> of type <code>xs:unsignedShort</code> would be:
<pre>
<code>
     int getLayerVariableResult_total() {
         // returns the value created by the layer's algorithm.
         // commonly this returns the value of a data member.
         return this.total;
     </code>
}
</pre>
Layers could have multiple result variables, but a single variable is most common, generally for returning checksums.
See the <code><a href="ChecksumLayer.html" name="org.apache.daffodil.runtime1.layers.api.ChecksumLayer" id="org.apache.daffodil.runtime1.layers.api.ChecksumLayer" class="extype">ChecksumLayer</a></code> class, which is designed to facilitate creation of checksum/CRC/hash/digest layers.</p><p>The Java types to use for the setter arguments and getter return types correspond to the DFDL variable types
according to this table:
<table border="1">
    <tr>
        <th>DFDL Schema Type</th>
        <th>Java Type</th>
    </tr>
    <tr>
        <td>xs:byte</td>
        <td>byte</td>
    </tr>
    <tr>
        <td>xs:short</td>
        <td>short</td>
    </tr>
    <tr>
        <td>xs:int</td>
        <td>int</td>
    </tr>
    <tr>
        <td>xs:long</td>
        <td>long</td>
    </tr>
    <tr>
        <td>xs:integer</td>
        <td>java.math.BigInteger</td>
    </tr>
    <tr>
        <td>xs:decimal</td>
        <td>java.math.BigDecimal</td>
    </tr>
    <tr>
        <td>xs:unsignedInt</td>
        <td>long</td>
    </tr>
    <tr>
        <td>xs:unsignedByte</td>
        <td>short</td>
    </tr>
    <tr>
        <td>xs:unsignedShort</td>
        <td>int</td>
    </tr>
    <tr>
        <td>xs:unsignedLong</td>
        <td>java.math.BigInteger</td>
    </tr>
    <tr>
        <td>xs:nonNegativeInteger</td>
        <td>java.math.BigInteger</td>
    </tr>
    <tr>
        <td>xs:double</td>
        <td>double</td>
    </tr>
    <tr>
        <td>xs:float</td>
        <td>float</td>
    </tr>
    <tr>
        <td>xs:hexBinary</td>
        <td>byte[]</td>
    </tr>
    <tr>
        <td>xs:anyURI</td>
        <td>java.net.URI</td>
    </tr>
    <tr>
        <td>xs:boolean</td>
        <td>boolean</td>
    </tr>
    <tr>
        <td>xs:dateTime</td>
        <td>com.ibm.icu.util.ICUCalendar</td>
    </tr>
    <tr>
        <td>xs:date</td>
        <td>com.ibm.icu.util.ICUCalendar</td>
    </tr>
    <tr>
        <td>xs:time</td>
        <td>com.ibm.icu.util.ICUCalendar</td>
    </tr>
    <caption style="caption-side:bottom"></caption>
</table></p><h4> Layer Algorithm </h4><p>The rest of the Layer class implements the layer decode/encode logic.</p><p>The actual algorithm of the layer is not implemented in methods of the derived layer class, but rather is
implemented in the layer's <i>input decoder</i> and <i>output encoder</i>.
These extend the <code>java.io.InputStream</code> and <code>java.io.OutputStream</code> base classes to actually handle the
data.</p><p>Every layer must implement the <code><a href="#wrapLayerInput(jis:java.io.InputStream):java.io.InputStream" name="org.apache.daffodil.runtime1.layers.api.Layer#wrapLayerInput" id="org.apache.daffodil.runtime1.layers.api.Layer#wrapLayerInput" class="extmbr">#wrapLayerInput</a></code> and <code><a href="#wrapLayerOutput(jos:java.io.OutputStream):java.io.OutputStream" name="org.apache.daffodil.runtime1.layers.api.Layer#wrapLayerOutput" id="org.apache.daffodil.runtime1.layers.api.Layer#wrapLayerOutput" class="extmbr">#wrapLayerOutput</a></code>
methods, which provide the input decoder and output encoder instances to the Daffodil layer framework.
When parsing/unparsing, the derived Layer class itself is concerned with setup and tear-down of the
layer's input decoder and output encoder, with providing access to/from DFDL variables,
and with reporting errors effectively.</p><h5>  Layer Exception Handling  </h5><p>The method <code>setProcessingErrorException </code> allows the layer to specify that if the layer throws specific
exceptions or runtime exceptions that they are converted into processing errors.
This eliminates most need for layer code to contain try-catches.
For example:
<pre>
<code>
    setProcessingErrorException(IOException.class);
</code>
</pre>
informs the DFDL processor that an IOException thrown from the layer is to be treated as a processing error.</p><p>Unhandled exceptions thrown by the layer code are treated as fatal errors.
</p></div><div class="toggleContainer"><div class="toggle block"><span>Linear Supertypes</span><div class="superTypes hiddenContent"><span name="org.apache.daffodil.lib.util.SimpleNamedLoadableService" class="extype">SimpleNamedLoadableService</span>, <span name="scala.AnyRef" class="extype">AnyRef</span>, <span name="scala.Any" class="extype">Any</span></div></div></div></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li><li class="inherit out"><span>By Inheritance</span></li></ol></div><div class="ancestors"><span class="filtertype">Inherited<br/></span><ol id="linearization"><li class="in" name="org.apache.daffodil.runtime1.layers.api.Layer"><span>Layer</span></li><li class="in" name="org.apache.daffodil.lib.util.SimpleNamedLoadableService"><span>SimpleNamedLoadableService</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li></ol></div><div class="ancestors"><span class="filtertype"></span><ol><li class="hideall out"><span>Hide All</span></li><li class="showall in"><span>Show All</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="constructors" class="members"><h3>Instance Constructors</h3><ol><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#&lt;init&gt;" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="&lt;init&gt;(localName:String,targetNamespace:String):org.apache.daffodil.runtime1.layers.api.Layer" class="anchorToMember"></a><a id="&lt;init&gt;:Layer" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#&lt;init&gt;(localName:String,targetNamespace:String):org.apache.daffodil.runtime1.layers.api.Layer" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">new</span></span> <span class="symbol"><span class="name">Layer</span><span class="params">(<span name="localName">localName: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span>, <span name="targetNamespace">targetNamespace: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span>)</span></span></li></ol></div><div class="values members"><h3>Abstract Value Members</h3><ol><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#wrapLayerInput" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="wrapLayerInput(jis:java.io.InputStream):java.io.InputStream" class="anchorToMember"></a><a id="wrapLayerInput(InputStream):InputStream" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#wrapLayerInput(jis:java.io.InputStream):java.io.InputStream" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wrapLayerInput</span><span class="params">(<span name="jis">jis: <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#java.io.InputStream" name="java.io.InputStream" id="java.io.InputStream" class="extype">InputStream</a></span>)</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#java.io.InputStream" name="java.io.InputStream" id="java.io.InputStream" class="extype">InputStream</a></span></span><p class="shortcomment cmt">Wraps a layer <i>input decoder</i> around an input stream.</p><div class="fullcomment"><div class="comment cmt"><p>Wraps a layer <i>input decoder</i> around an input stream.</p><p>This input decoder does the real parser-time work of the layer.
It implements <code>java.io.InputStream</code>, by
reading data from the given argument input stream, and decoding it.</p><p>Any exception thrown from this wrap method becomes a Schema Definition Error (fatal).</p><p>The input decoder generally uses a reference to this layer instance to report errors.</p><p>To have the Daffodil layer framework convert uncaught exceptions
thrown by the input decoder into processing errors automatically,
call the <code><span name="#setProcessingErrorException(Class)" class="extype">#setProcessingErrorException(Class)</span></code>.
Other kinds of input decoder processing errors can be signaled by calling the <code><span name="#processingError(String)" class="extype">#processingError(String)</span></code> or
<code><span name="#processingError(Throwable)" class="extype">#processingError(Throwable)</span></code> methods.
Input decoder schema definition errors are more rare, but if needed the <code><span name="#runtimeSchemaDefinitionError(String)" class="extype">#runtimeSchemaDefinitionError(String)</span></code> or
<code><span name="#runtimeSchemaDefinitionError(Throwable)" class="extype">#runtimeSchemaDefinitionError(Throwable)</span></code> methods may be called.</p></div><dl class="paramcmts block"><dt class="param">jis</dt><dd class="cmt"><p>The input stream to be wrapped.</p></dd><dt>returns</dt><dd class="cmt"><p>An input stream with the layer's input decoder wrapped around it.</p></dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#wrapLayerOutput" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="wrapLayerOutput(jos:java.io.OutputStream):java.io.OutputStream" class="anchorToMember"></a><a id="wrapLayerOutput(OutputStream):OutputStream" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#wrapLayerOutput(jos:java.io.OutputStream):java.io.OutputStream" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wrapLayerOutput</span><span class="params">(<span name="jos">jos: <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html#java.io.OutputStream" name="java.io.OutputStream" id="java.io.OutputStream" class="extype">OutputStream</a></span>)</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html#java.io.OutputStream" name="java.io.OutputStream" id="java.io.OutputStream" class="extype">OutputStream</a></span></span><p class="shortcomment cmt">Wraps a layer <i>output encoder</i> around an output stream.</p><div class="fullcomment"><div class="comment cmt"><p>Wraps a layer <i>output encoder</i> around an output stream.</p><p>The output encoder does the real unparse-time work of the layer.
It implements <code>java.io.OutputStream</code> by
accepting data via the usual output stream write calls, encoding this
data, and writing the encoded data to the argument output stream.</p><p>Any exception thrown from this wrap method becomes a Schema Definition Error (fatal).</p><p>The output encoder generally uses a reference to this layer to report errors.</p><p>To have the Daffodil layer framework convert uncaught exceptions
thrown by the output encoder into processing errors automatically,
call the <code><span name="#setProcessingErrorException(Class)" class="extype">#setProcessingErrorException(Class)</span></code>.
Other kinds of output encoder processing errors can be signaled by calling the <code><span name="#processingError(String)" class="extype">#processingError(String)</span></code> or
<code><span name="#processingError(Throwable)" class="extype">#processingError(Throwable)</span></code> methods.
Output encoder schema definition errors are more rare, but if needed the <code><span name="#runtimeSchemaDefinitionError(String)" class="extype">#runtimeSchemaDefinitionError(String)</span></code> or
<code><span name="#runtimeSchemaDefinitionError(Throwable)" class="extype">#runtimeSchemaDefinitionError(Throwable)</span></code> methods may be called.</p></div><dl class="paramcmts block"><dt class="param">jos</dt><dd class="cmt"><p>The output stream to be wrapped.</p></dd><dt>returns</dt><dd class="cmt"><p>An output stream with the layer wrapped around it.</p></dd></dl></div></li></ol></div><div class="values members"><h3>Concrete Value Members</h3><ol><li class="indented0 " name="scala.AnyRef#!=" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="!=(x$1:Any):Boolean" class="anchorToMember"></a><a id="!=(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#!=(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $bang$eq">!=</span><span class="params">(<span name="arg0">arg0: <span name="scala.Any" class="extype">Any</span></span>)</span><span class="result">: <span name="scala.Boolean" class="extype">Boolean</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef###" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="##:Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html###:Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $hash$hash">##</span><span class="result">: <span name="scala.Int" class="extype">Int</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#==" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="==(x$1:Any):Boolean" class="anchorToMember"></a><a id="==(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#==(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $eq$eq">==</span><span class="params">(<span name="arg0">arg0: <span name="scala.Any" class="extype">Any</span></span>)</span><span class="result">: <span name="scala.Boolean" class="extype">Boolean</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.Any#asInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="asInstanceOf[T0]:T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#asInstanceOf[T0]:T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span name="scala.Any.asInstanceOf.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#clone" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="clone():Object" class="anchorToMember"></a><a id="clone():AnyRef" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#clone():Object" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">clone</span><span class="params">()</span><span class="result">: <span name="scala.AnyRef" class="extype">AnyRef</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.CloneNotSupportedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#eq" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="eq(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="eq(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#eq(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">eq</span><span class="params">(<span name="arg0">arg0: <span name="scala.AnyRef" class="extype">AnyRef</span></span>)</span><span class="result">: <span name="scala.Boolean" class="extype">Boolean</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#equals" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="equals(x$1:Object):Boolean" class="anchorToMember"></a><a id="equals(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#equals(x$1:Object):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">equals</span><span class="params">(<span name="arg0">arg0: <span name="scala.AnyRef" class="extype">AnyRef</span></span>)</span><span class="result">: <span name="scala.Boolean" class="extype">Boolean</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#finalize" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="finalize():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#finalize():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">finalize</span><span class="params">()</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="symbol">classOf[java.lang.Throwable]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#getClass" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="getClass():Class[_]" class="anchorToMember"></a><a id="getClass():Class[_&lt;:AnyRef]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#getClass():Class[_]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">getClass</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#java.lang.Class" name="java.lang.Class" id="java.lang.Class" class="extype">Class</a>[_ &lt;: <span name="scala.AnyRef" class="extype">AnyRef</span>]</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#getLayerRuntime" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="getLayerRuntime():org.apache.daffodil.runtime1.layers.LayerRuntime" class="anchorToMember"></a><a id="getLayerRuntime():LayerRuntime" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#getLayerRuntime():org.apache.daffodil.runtime1.layers.LayerRuntime" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">getLayerRuntime</span><span class="params">()</span><span class="result">: <span name="org.apache.daffodil.runtime1.layers.LayerRuntime" class="extype">LayerRuntime</span></span></span><p class="shortcomment cmt">For framework use.</p><div class="fullcomment"><div class="comment cmt"><p>For framework use.</p><p>Called by the execution framework to obtain the context for reporting errors.
</p></div></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#getProcessingErrorExceptions" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="getProcessingErrorExceptions():java.util.List[Class[_&lt;:Exception]]" class="anchorToMember"></a><a id="getProcessingErrorExceptions():List[Class[_&lt;:Exception]]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#getProcessingErrorExceptions():java.util.List[Class[_&lt;:Exception]]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">getProcessingErrorExceptions</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html#java.util.List" name="java.util.List" id="java.util.List" class="extype">List</a>[<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#java.lang.Class" name="java.lang.Class" id="java.lang.Class" class="extype">Class</a>[_ &lt;: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html#java.lang.Exception" name="java.lang.Exception" id="java.lang.Exception" class="extype">Exception</a>]]</span></span><p class="shortcomment cmt">For framework use.</p></li><li class="indented0 " name="scala.AnyRef#hashCode" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="hashCode():Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#hashCode():Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">hashCode</span><span class="params">()</span><span class="result">: <span name="scala.Int" class="extype">Int</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.Any#isInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="isInstanceOf[T0]:Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#isInstanceOf[T0]:Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span name="scala.Boolean" class="extype">Boolean</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#localName" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="localName():String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#localName():String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">localName</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span></span><p class="shortcomment cmt">For framework use.</p></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#name" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="name():String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#name():String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">name</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span></span><p class="shortcomment cmt">For framework use.</p><div class="fullcomment"><div class="comment cmt"><p>For framework use.</p><p>This method and the string it returns are required by the SPI loader.</p></div><dl class="paramcmts block"><dt>returns</dt><dd class="cmt"><p>A unique indentifier for the kind of layer. Contains both local and namespace components of the layer's complete name.</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="org.apache.daffodil.runtime1.layers.api.Layer" id="org.apache.daffodil.runtime1.layers.api.Layer" class="extype">Layer</a> → SimpleNamedLoadableService</dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#namespace" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="namespace():String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#namespace():String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">namespace</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span></span><p class="shortcomment cmt">For framework use.</p></li><li class="indented0 " name="scala.AnyRef#ne" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ne(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="ne(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#ne(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">ne</span><span class="params">(<span name="arg0">arg0: <span name="scala.AnyRef" class="extype">AnyRef</span></span>)</span><span class="result">: <span name="scala.Boolean" class="extype">Boolean</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#notify" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notify():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#notify():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notify</span><span class="params">()</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#notifyAll" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notifyAll():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#notifyAll():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notifyAll</span><span class="params">()</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#processingError" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="processingError(cause:Throwable):Unit" class="anchorToMember"></a><a id="processingError(Throwable):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#processingError(cause:Throwable):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">processingError</span><span class="params">(<span name="cause">cause: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#java.lang.Throwable" name="java.lang.Throwable" id="java.lang.Throwable" class="extype">Throwable</a></span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><p class="shortcomment cmt">Use to report a processing error.</p><div class="fullcomment"><div class="comment cmt"><p>Use to report a processing error.</p><p>When parsing a processing error can cause backtracking so that the parse
can often recover from the error.</p><p>When unparsing a processing error is fatal.</p></div><dl class="paramcmts block"><dt class="param">cause</dt><dd class="cmt"><p>a throwable object that describes the error</p></dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#processingError" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="processingError(msg:String):Unit" class="anchorToMember"></a><a id="processingError(String):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#processingError(msg:String):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">processingError</span><span class="params">(<span name="msg">msg: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><p class="shortcomment cmt">Use to report a processing error.</p><div class="fullcomment"><div class="comment cmt"><p>Use to report a processing error.</p><p>When parsing a processing error can cause backtracking so that the parse
can often recover from the error.</p><p>When unparsing a processing error is fatal.</p></div><dl class="paramcmts block"><dt class="param">msg</dt><dd class="cmt"><p>describes the error</p></dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#runtimeSchemaDefinitionError" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="runtimeSchemaDefinitionError(cause:Throwable):Unit" class="anchorToMember"></a><a id="runtimeSchemaDefinitionError(Throwable):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#runtimeSchemaDefinitionError(cause:Throwable):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">runtimeSchemaDefinitionError</span><span class="params">(<span name="cause">cause: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#java.lang.Throwable" name="java.lang.Throwable" id="java.lang.Throwable" class="extype">Throwable</a></span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><p class="shortcomment cmt">Use to report a runtime schema definition error.</p><div class="fullcomment"><div class="comment cmt"><p>Use to report a runtime schema definition error.</p><p>This indicates that the layer is unable to
work meaningfully because of the way it is configured. The schema itself is not well defined due to
the way the layer is configured.</p><p>This error type is always fatal whether parsing or unparsing.
See <code><span name="#runtimeSchemaDefinitionError(String)" class="extype"></span></code> for discussion of situations where
 a Runtime Schema Definition Error is appropriate.</p></div><dl class="paramcmts block"><dt class="param">cause</dt><dd class="cmt"><p>a throwable object that describes the error</p></dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#runtimeSchemaDefinitionError" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="runtimeSchemaDefinitionError(msg:String):Unit" class="anchorToMember"></a><a id="runtimeSchemaDefinitionError(String):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#runtimeSchemaDefinitionError(msg:String):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">runtimeSchemaDefinitionError</span><span class="params">(<span name="msg">msg: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><p class="shortcomment cmt">Use to report a runtime schema definition error.</p><div class="fullcomment"><div class="comment cmt"><p>Use to report a runtime schema definition error.</p><p>This indicates that the layer is unable to
work meaningfully because of the way it is configured.
That is, the schema itself is not well defined due to
the way the layer is configured.</p><p>For example suppose a layer had a DFDL variable for a parameter that is supposed
to be an integer between 1 and 10, and this parameter is generally provided as a constant value.
If the provided parameter variable value is 0, which is not meaningful, then a
Runtime Schema Definition Error is the right error to invoke.</p><p>This error type is always fatal whether parsing or unparsing.</p></div><dl class="paramcmts block"><dt class="param">msg</dt><dd class="cmt"><p>describes the error</p></dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#setLayerRuntime" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="setLayerRuntime(lr:org.apache.daffodil.runtime1.layers.LayerRuntime):Unit" class="anchorToMember"></a><a id="setLayerRuntime(LayerRuntime):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#setLayerRuntime(lr:org.apache.daffodil.runtime1.layers.LayerRuntime):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">setLayerRuntime</span><span class="params">(<span name="lr">lr: <span name="org.apache.daffodil.runtime1.layers.LayerRuntime" class="extype">LayerRuntime</span></span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><p class="shortcomment cmt">For framework use.</p><div class="fullcomment"><div class="comment cmt"><p>For framework use.</p><p>Called by the execution framework to give the context for reporting errors.</p></div><dl class="paramcmts block"><dt class="param">lr</dt><dd class="cmt"><p>runtime data structure used by the framework</p></dd></dl></div></li><li class="indented0 " name="org.apache.daffodil.runtime1.layers.api.Layer#setProcessingErrorException" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="setProcessingErrorException(e:Class[_&lt;:Exception]):Unit" class="anchorToMember"></a><a id="setProcessingErrorException(Class[_&lt;:Exception]):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#setProcessingErrorException(e:Class[_&lt;:Exception]):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">setProcessingErrorException</span><span class="params">(<span name="e">e: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#java.lang.Class" name="java.lang.Class" id="java.lang.Class" class="extype">Class</a>[_ &lt;: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html#java.lang.Exception" name="java.lang.Exception" id="java.lang.Exception" class="extype">Exception</a>]</span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><p class="shortcomment cmt">Use to add an exception class to the list of exceptions that will be automatically converted
into processing errors.</p><div class="fullcomment"><div class="comment cmt"><p>Use to add an exception class to the list of exceptions that will be automatically converted
into processing errors.</p><p>The purpose of this is to allow one to use java/scala libraries that may throw
exceptions when encountering bad data. Such exceptions should be translated into
processing errors, which will allow the parser to backtrack and try other alternatives
which may work for that data.
By calling this method the layer framework implements the try-catch logic to capture
these exception types and convert them into processing errors.
This avoids a great deal of try-catch logic that would otherwise be required in
layer methods.</p><p>When considering whether a thrown Exception is to be converted to a processing error
RuntimeException classes are handled separately from Exception classes.
Hence calling
<pre>
    setProcessingErrorException(Exception.class);
</pre>
will NOT cause all RuntimeExceptions to also be converted into processing errors.
It will, however, cause all classes derived from Exception that are NOT RuntimeExceptions
to be caught and converted into Processing Errors.
</p></div><dl class="paramcmts block"><dt class="param">e</dt><dd class="cmt"><p>the exception class to be added to the list of processing error exceptions</p></dd></dl></div></li><li class="indented0 " name="scala.AnyRef#synchronized" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="synchronized[T0](x$1:=&gt;T0):T0" class="anchorToMember"></a><a id="synchronized[T0](=&gt;T0):T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#synchronized[T0](x$1:=&gt;T0):T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: =&gt; <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span>)</span><span class="result">: <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#toString" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="toString():String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#toString():String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">toString</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#wait():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">()</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long,x$2:Int):Unit" class="anchorToMember"></a><a id="wait(Long,Int):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#wait(x$1:Long,x$2:Int):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span name="scala.Long" class="extype">Long</span></span>, <span name="arg1">arg1: <span name="scala.Int" class="extype">Int</span></span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long):Unit" class="anchorToMember"></a><a id="wait(Long):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#wait(x$1:Long):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span name="scala.Long" class="extype">Long</span></span>)</span><span class="result">: <span name="scala.Unit" class="extype">Unit</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> </dd></dl></div></li></ol></div></div><div id="inheritedMembers"><div name="org.apache.daffodil.lib.util.SimpleNamedLoadableService" class="parent"><h3>Inherited from <span name="org.apache.daffodil.lib.util.SimpleNamedLoadableService" class="extype">SimpleNamedLoadableService</span></h3></div><div name="scala.AnyRef" class="parent"><h3>Inherited from <span name="scala.AnyRef" class="extype">AnyRef</span></h3></div><div name="scala.Any" class="parent"><h3>Inherited from <span name="scala.Any" class="extype">Any</span></h3></div></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
