<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ChecksumLayer (Apache Daffodil 3.8.0 Java API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ChecksumLayer (Apache Daffodil 3.8.0 Java API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html" title="class in org.apache.daffodil.runtime1.layers.api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/daffodil/runtime1/layers/api/ChecksumLayer.html" target="_top">Frames</a></li>
<li><a href="ChecksumLayer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.daffodil.runtime1.layers.api</div>
<h2 title="Class ChecksumLayer" class="title">Class ChecksumLayer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html" title="class in org.apache.daffodil.runtime1.layers.api">org.apache.daffodil.runtime1.layers.api.Layer</a></li>
<li>
<ul class="inheritance">
<li>org.apache.daffodil.runtime1.layers.ChecksumLayerBase</li>
<li>
<ul class="inheritance">
<li>org.apache.daffodil.runtime1.layers.api.ChecksumLayer</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ChecksumLayer</span>
extends org.apache.daffodil.runtime1.layers.ChecksumLayerBase</pre>
<div class="block">A checksum layer computes a numeric value from a region of the data stream.
 <p>
 The term checksum is used generically here to subsume all sorts of CRCs, check digits, data hash, and
 digest calculations.
 <p>
 This abstract base is suitable only for checksums computed over small sections of data.
 It is not for large data streams or whole large files.
 The entire region of data the checksum is being computed over will be pulled into a byte buffer in memory.
 <p>
 The resulting checksum is the return value of the <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/ChecksumLayer.html#compute-boolean-java.nio.ByteBuffer-"><code>compute(boolean, java.nio.ByteBuffer)</code></a> method.
 <p>
 This result is delivered into a DFDL variable for use by the DFDL schema.
 This DFDL variable can have any name such as 'crc', 'digest', or 'dataHash'.
 <p>
 The derived implementation class must also define a getter method based on the name of the DFDL variable which
 will be assigned with the checksum value.
 For example if the checksum is actually a specific digest/hash calculation and the DFDL variable is named
 <code>digest</code>, then this getter must be defined:
 <pre><code>
     int getLayerVariableResult_digest() {
       return this.digest; // usually returns a data member
     }
 </code>
 </pre>
 This will be called automatically to retrieve the integer value that was returned from the <code>compute</code> method,
 and the DFDL variable named <code>digest</code> will be assigned that value.
 <p>
 The derived class implementing a checksum layer must call
 <pre><code>
     setLength(len); // sets the length in bytes
 </code>
 </pre>
 to specify the length of the data region in bytes. Normally this would be called from the layer's implementation of
 the <code>setLayerVariableParameters</code> method:
 <pre><code>
     void setLayerVariableParameters(...) {
         ...
         setLength(len); // len is a constant,
                         // or is computed from a parameter variable
         ...
     }
 </code></pre>
 See the documentation of the <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html" title="class in org.apache.daffodil.runtime1.layers.api"><code>Layer</code></a> class for a description of how DFDL variables are passed to the arguments
 of the <code>setLayerVariableParameters</code> method.
 <p>
 See <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html" title="class in org.apache.daffodil.runtime1.layers.api"><code>Layer</code></a> for more details about layers generally as most of its documentation is
 relevant to this derived abstract base class as well.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/ChecksumLayer.html#ChecksumLayer-java.lang.String-java.lang.String-">ChecksumLayer</a></span>(java.lang.String&nbsp;layerName,
             java.lang.String&nbsp;layerTargetNamespace)</code>
<div class="block">Base class constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/ChecksumLayer.html#compute-boolean-java.nio.ByteBuffer-">compute</a></span>(boolean&nbsp;isUnparse,
       java.nio.ByteBuffer&nbsp;byteBuffer)</code>
<div class="block">Override to compute the checksum of a buffer of data.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.daffodil.runtime1.layers.ChecksumLayerBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.daffodil.runtime1.layers.ChecksumLayerBase</h3>
<code>getChecksum, getLength, setChecksum, setLength, wrapLayerInput, wrapLayerOutput</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.daffodil.runtime1.layers.api.Layer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.daffodil.runtime1.layers.api.<a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html" title="class in org.apache.daffodil.runtime1.layers.api">Layer</a></h3>
<code><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#getLayerRuntime--">getLayerRuntime</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#getProcessingErrorExceptions--">getProcessingErrorExceptions</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#localName--">localName</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#name--">name</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#namespace--">namespace</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#processingError-java.lang.String-">processingError</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#processingError-java.lang.Throwable-">processingError</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#runtimeSchemaDefinitionError-java.lang.String-">runtimeSchemaDefinitionError</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#runtimeSchemaDefinitionError-java.lang.Throwable-">runtimeSchemaDefinitionError</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#setLayerRuntime-org.apache.daffodil.runtime1.layers.LayerRuntime-">setLayerRuntime</a>, <a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html#setProcessingErrorException-java.lang.Class-">setProcessingErrorException</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ChecksumLayer-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ChecksumLayer</h4>
<pre>public&nbsp;ChecksumLayer(java.lang.String&nbsp;layerName,
                     java.lang.String&nbsp;layerTargetNamespace)</pre>
<div class="block">Base class constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>layerName</code> - the name of the layer</dd>
<dd><code>layerTargetNamespace</code> - the URI that is the target namespace of the layer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if arguments are null or do not obey required syntax.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="compute-boolean-java.nio.ByteBuffer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>compute</h4>
<pre>public abstract&nbsp;int&nbsp;compute(boolean&nbsp;isUnparse,
                            java.nio.ByteBuffer&nbsp;byteBuffer)</pre>
<div class="block">Override to compute the checksum of a buffer of data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>compute</code>&nbsp;in class&nbsp;<code>org.apache.daffodil.runtime1.layers.ChecksumLayerBase</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isUnparse</code> - true if the direction is unparsing. Used because in some cases the computed checksum must
                  be written into the byte buffer in a specific location.</dd>
<dd><code>byteBuffer</code> - the bytes over which the checksum is to be computed.
                   This byte buffer can be modified, (for example so as to embed the computed checksum in the
                   middle of the data somewhere).
                   The resulting modified bytes become the data that is read by the DFDL parsing and written
                   when unparsing.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the checksum value as an Int (32-bit signed integer)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/daffodil/runtime1/layers/api/Layer.html" title="class in org.apache.daffodil.runtime1.layers.api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/daffodil/runtime1/layers/api/ChecksumLayer.html" target="_top">Frames</a></li>
<li><a href="ChecksumLayer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
