<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>org.apache.daffodil.api.layers (Apache Daffodil 4.0.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.apache.daffodil.api.layers">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.apache.daffodil.api.layers" class="title">Package org.apache.daffodil.api.layers</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.apache.daffodil.api.layers</span></div>
<section class="package-description" id="package-description">
<div class="block"><h2>Daffodil Layers API Package</h2>
 <p>
 This package provides base classes for creating Layers, which provide a means of
 algorithmic operations on the data stream that cannot be expressed using
 regular DFDL properties.
 <p>
 There are two kinds of layers:
 <ul><li>transforming layers - such as a base64 decoder/encoder for parts of a textual format</li>
 <li>checksum layers - such as computing CRC32 over a message header</li>
 </ul>
 Both run an algorithm over a part of the data stream.
 <p>
 Layers are implemented in Scala or Java as small (usually) Jar files that are dynamically loaded from the CLASSPATH in
 response to a DFDL schema that uses that layer via the <code>dfdlx:layer</code> property.
 <p>
 See the <a href="http://daffodil.apache.org/layers">Layer Usage Documentation</a> for how a layer is
 used from a Daffodil DFDL schema.
 <p>
 This API documentation is focused on the programming required to create a new layer implementation
 as a custom plug-in for Daffodil.
 <p>
 <a href="Layer.html" title="class in org.apache.daffodil.api.layers"><code>Layer</code></a> is the general abstract base class
 used to define any layer, but most commonly it is used for transforming layers.
 <p>
 <a href="ChecksumLayer.html" title="class in org.apache.daffodil.api.layers"><code>ChecksumLayer</code></a> is an abstract base class
 derived from <a href="Layer.html" title="class in org.apache.daffodil.api.layers"><code>Layer</code></a>, and further specialized for defining
 checksum layers.

 <h3> About Testing </h3>
 <p>
 The Daffodil test code base includes tests for many ways that
 an API user can goof up the definition of a layer class.
 For example, there are tests for calling <code>processingError</code>, <code>runtimeSchemaDefinitionError</code>, and throwing
 an <code>Exception</code> from every place a custom-defined Layer could cause these.
 Processing errors cause the parser to backtrack in all sensible cases.
 That is to say that if a layer is parsing data, and the data it encounters is not
 a match for that layer, then a properly written layer will issue a processing error,
 and the parser will backtrack, allowing the format to try other alternatives for
 parsing that data.

 <h4>Custom Plug-In Layers</h4>
 Custom Plug-in layers must extend the <a href="Layer.html" title="class in org.apache.daffodil.api.layers"><code>Layer</code></a> class, and be
 referenced in a <code>META-INF/services</code> file with the same class reference as the name. This
 path has changed in Daffodil 4.0.0.

 <h3>Compatibility with Daffodil 3.7.0 and prior versions of Apache Daffodil</h3>
 <p>
 This new Layer API is entirely incompatible with schemas or layer code
 from Daffodil 3.7.0 and all prior versions of Daffodil.
 <p>
 The layer feature was just an experimental feature in earlier versions of Daffodil, so we reserved
 the right to change it, and for Daffodil 3.8.0 it has changed radically based on what we learned from the
 earlier experimentation.
 <p>
 It is our intention that this Layer API (introduced in Daffodil 3.8.0) will prove to be stable
 and supportable long term.</div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">org.apache.daffodil.api</a></div>
<div class="col-last even-row-color">
<div class="block">Provides the classes necessary to compile DFDL schemas, parse and
 unparse files using the compiled objects, and retrieve results and
 parsing diagnostics</div>
</div>
<div class="col-first odd-row-color"><a href="exceptions/package-summary.html">org.apache.daffodil.api.layers.exceptions</a></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="caption"><span>Classes</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ChecksumLayer.html" title="class in org.apache.daffodil.api.layers">ChecksumLayer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A checksum layer computes a numeric value from a region of the data stream.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Layer.html" title="class in org.apache.daffodil.api.layers">Layer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">This is the primary API class for writing layers.</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
</div>
</div>
</body>
</html>
